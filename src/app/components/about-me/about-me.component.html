<section id="about-me" class="kw-section flex">
  <div class="simultated-content flex col">
    <h2 class="section__title">Información sobre mí</h2>
    <div class="tabs flex">
      <section class="tabs-buttons flex col">
        <div class="tab-button active" (click)="changeTab(0)">
          <span class="border"></span>
          <i class="fas fa-info-circle"></i> Información general
          <span class="border"></span>
        </div>
        <div class="tab-button" (click)="changeTab(1)">
          <span class="border"></span>
          <i class="icon fa-brands fa-github-alt"></i> Actividad en GitHub
          <span class="border"></span>
        </div>
      </section>
      <section class="tabs-body">
        <section class="tab-body flex col start active">
          <div class="info-container flex col items-start">
            <p>Mi nombre es Brian Uceda Hirata, tengo 19 años y soy estudiante universitario de la carrera de Ingeniería de Sistemas de Información en la UPC Perú.</p>
            <br>
            <p>Tengo gran interés en la automatización de procesos, programación dinámica, desarrollo de servicio y microservicios, bases de datos, entre otros temas relacionados al desarrollo Backend y algoritmos.</p>
            <p>Mi meta profesional es formar parte de un equipo de trabajo en el que me sienta cómodo y pueda crecer profesionalmente mientras genero un impacto positivo en mis compañeros. Busco hacer experiencias que pueda recordar con una sonrisa en el futuro.</p>
            <br>
            <p>Soy consciente de que no soy perfecto, pero siempre busco aprender y mejorar a partir de mis experiencias vividas.</p>
          </div>
        </section>
        <section class="tab-body flex col start">
            @if (getLength > 0) {
              <h3>Últimas actividades en GitHub</h3>
              <div class="events flex">
                @for(event of commitsData; track event.id) {
                  <!-- @if(event.type == 'PushEvent') { -->
                    <div class="event flex col items-start">
                      <div class="org flex">
                        <p class="e-info">Organización: <span class="e-data">{{ modifyRepoName(event.repo.name, 0) }}</span></p>
                        <a class="link e-info"
                          target="_blank" [href]="getOrgUrl(event.repo.url)">
                          <i class="fa-solid fa-up-right-from-square icon"></i>
                        </a>
                      </div>
                      <div class="repo flex">
                        <p class="e-info">Repositorio: <span class="e-data">{{ modifyRepoName(event.repo.name, 1) }}</span></p>
                        <a class="link e-info"
                          target="_blank" [href]="modifyUrl(event.repo.url)">
                          <i class="fa-solid fa-up-right-from-square icon"></i>
                        </a>
                      </div>

                      @if (event.type == 'PushEvent') {
                        <p class="event-type e-info">Tipo: <span class="e-data two">{{ removeEventOnString(event.type) }}</span></p>
                        <p class="e-info">Mensaje: <span class="e-data">{{ event.payload.commits[0].message }}</span></p>
                        <div class="user flex">
                          <img class="user-img" [src]="event.actor.avatar_url" alt="">
                          <p class="user-txt">{{ event.actor.login }} • {{ event.lastUpdateTime }}</p>
                          <a class="link two push"
                            target="_blank" [href]="modifyUrl(event.payload.commits[0].url)">
                            <i class="fa-solid fa-up-right-from-square icon"></i>
                          </a>
                        </div>
                      } @else if (event.type == 'CreateEvent' || event.type == 'DeleteEvent') {
                        @if (event.type == 'CreateEvent') {
                          <p class="event-type e-info">Tipo: <span class="e-data one">{{ removeEventOnString(event.type) }}</span></p>
                          <p class="e-info">Acción:
                            @if (event.payload.ref == null) {
                              <span class="e-data">Creó el repositorio {{ modifyRepoName(event.repo.name, 1) }}</span>
                            } @else {
                              <span class="e-data">Creó la rama {{ event.payload.ref }} <- ({{ event.payload.master_branch }})</span>
                            }
                          </p>
                        } @else if (event.type == 'DeleteEvent') {
                          <p class="event-type e-info">Tipo: <span class="e-data three">{{ removeEventOnString(event.type) }}</span></p>
                          <p class="e-info">Acción:
                          <span class="e-data">Borró la rama {{ event.payload.ref }}</span>
                          </p>
                        }
                        <div class="user flex">
                          <img class="user-img" [src]="event.actor.avatar_url" alt="">
                          <p class="user-txt">{{ event.actor.login }} • {{ event.lastUpdateTime }}</p>
                        </div>
                      }

                    </div>
                  <!-- } -->
                }
              </div>
            } @else if (getLength == -2) {
              <div class="events flex col">
                <div class="event">
                  <p class="error">Has excedido el número de solicitudes, por favor espera unos minutos...</p>
                </div>
              </div>
            } @else if (getLength == -1) {
            <div class="events flex col">
              <div class="event">
                <p class="error">Este usuario no existe</p>
              </div>
            </div>
            } @else if (getLength == 0) {
              <div class="events flex col">
                <div class="event error flex col">
                  <img class="about-img" [src]="getUser?.avatar_url" alt="">
                  <p class="user">{{ getUser?.login }}</p>
                  <p class="error">Este usuario no ha realizado commits públicos en los últimos 2 años</p>
                </div>
              </div>
            }
        </section>
      </section>
    </div>
  </div>
</section>
